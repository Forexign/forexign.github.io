<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yƒ±ldƒ±z Kedicik'in Sihirli Tahmini üåü</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;700;900&display=swap');

        :root {
            --bg-color: #f0f4ff; /* A√ßƒ±k mavi */
            --container-bg: #ffffff;
            --primary-color: #ff80ab; /* Canlƒ± pembe */
            --secondary-color: #84ffff; /* Tatlƒ± mavi */
            --accent-color: #ffd700; /* Altƒ±n sarƒ±sƒ± */
            --text-color: #5c5c5c;
            --shadow-color: rgba(132, 132, 255, 0.15);
            --font-main: 'Nunito', sans-serif;
            --font-heading: 'Pacifico', cursive;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #f0f4ff 0%, #ffe8e8 100%);
        }
        
        .hidden { display: none !important; }

        .game-container {
            background-color: var(--container-bg);
            padding: 30px 40px;
            border-radius: 40px;
            box-shadow: 0 20px 40px var(--shadow-color);
            text-align: center;
            width: 90%;
            max-width: 550px;
            position: relative;
            z-index: 1;
            transform: scale(0.9);
            opacity: 0;
            animation: fadeIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        
        @keyframes fadeIn { to { transform: scale(1); opacity: 1; } }

        h1 {
            font-family: var(--font-heading);
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-top: 0;
            margin-bottom: 10px;
        }

        p {
            color: var(--text-color);
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 25px;
        }

        /* --- Rehber Kedicik Stilleri --- */
        .guide-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .guide-avatar {
            font-size: 3.5rem;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        
        .guide-speech {
            background: #f1f8ff;
            padding: 10px 15px;
            border-radius: 15px;
            position: relative;
            border: 2px solid var(--secondary-color);
            font-weight: 700;
        }
        .guide-speech::before {
            content: '';
            position: absolute;
            left: -10px; top: 50%;
            transform: translateY(-50%);
            border: 5px solid transparent;
            border-right-color: var(--secondary-color);
        }

        /* --- Kart Stilleri --- */
        .card {
            border: 2px dashed var(--secondary-color);
            background-color: #f1f8ff;
            border-radius: 20px;
            padding: 20px;
            margin: 20px auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
            gap: 10px;
            transition: transform 0.3s ease;
        }
        .card span {
            font-size: 1.2rem;
            font-weight: 900;
            color: var(--primary-color);
            background-color: white;
            padding: 8px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            animation: popIn 0.5s ease backwards;
        }
        @keyframes popIn { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }

        /* --- Buton ve Input Stilleri --- */
        .button-group { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
        button {
            font-family: var(--font-main); font-size: 1.1rem; font-weight: 700; padding: 15px 30px; border: none;
            border-radius: 50px; cursor: pointer; transition: all 0.3s ease;
        }
        button:hover { transform: translateY(-3px) scale(1.05); }

        #yes-btn { background-color: var(--primary-color); color: white; }
        #no-btn { background-color: #e0e0e0; color: var(--text-color); }
        #start-btn, #restart-btn {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white; font-size: 1.3rem; padding: 18px 40px;
        }
        
        .name-input {
            width: 70%; padding: 15px; border-radius: 50px; border: 2px solid var(--secondary-color);
            font-size: 1.1rem; text-align: center; margin-bottom: 20px; transition: all 0.3s ease;
        }
        .name-input:focus { border-color: var(--primary-color); box-shadow: 0 0 10px var(--shadow-color); outline: none; }

        /* --- ƒ∞lerleme √áubuƒüu --- */
        .progress-bar-container { background-color: #eef; border-radius: 20px; padding: 4px; margin-top: 20px; }
        .progress-bar {
            height: 15px; width: 0%; background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
            border-radius: 15px; transition: width 0.5s ease-in-out;
        }

        /* --- D√º≈ü√ºnme Ekranƒ± --- */
        #thinking-screen .spinner {
            font-size: 4rem; animation: spin-grow 2s infinite linear; display: inline-block;
        }
        @keyframes spin-grow {
            0% { transform: rotate(0deg) scale(0.8); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(0.8); }
        }

        /* --- Sonu√ß Ekranƒ± --- */
        .result-card { border: 3px solid var(--accent-color); border-radius: 20px; padding: 20px; margin-top: 15px; }
        .result-item {
            display: flex; align-items: center; gap: 20px;
            margin-bottom: 15px; text-align: left;
            opacity: 0; animation: reveal-item 0.8s ease forwards;
        }
        .result-item:nth-child(1) { animation-delay: 0.5s; }
        .result-item:nth-child(2) { animation-delay: 1.0s; }
        .result-item:nth-child(3) { animation-delay: 1.5s; }
        @keyframes reveal-item { to { opacity: 1; transform: translateX(0); } from { transform: translateX(-20px); } }

        .result-icon { font-size: 3rem; }
        .result-content h3 { margin: 0 0 5px; color: var(--primary-color); }
        .result-content p { margin: 0; font-size: 0.95rem; line-height: 1.4; }
        #final-date { font-weight: 900; font-size: 1.5rem; }

        /* --- Konfeti --- */
        .confetti {
            position: absolute; width: 10px; height: 10px;
            background-color: var(--primary-color); opacity: 0.7;
            animation: fall 5s linear infinite;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="confetti-container"></div>

    <div class="game-container">
        <!-- Ba≈ülangƒ±√ß Ekranƒ± -->
        <div id="start-screen">
            <h1>Yƒ±ldƒ±z Kedicik'in Sihirli Tahmini</h1>
            <div class="guide-container">
                <span class="guide-avatar">üê±</span>
                <p class="guide-speech">Miyav! Ben Yƒ±ldƒ±z Kedicik! Adƒ±n ne, tatlƒ± insan?</p>
            </div>
            <input type="text" id="name-input" class="name-input" placeholder="Buraya yaz... ‚ú®">
            <button id="start-btn">Hadi Ba≈ülayalƒ±m!</button>
        </div>

        <!-- Oyun Ekranƒ± -->
        <div id="game-screen" class="hidden">
            <div class="guide-container">
                <span class="guide-avatar">ü§î</span>
                <p class="guide-speech" id="guide-text">Harika! ≈ûimdi sihirli sorularƒ±ma odaklan.</p>
            </div>
            <div id="card-container" class="card"></div>
            <div class="button-group">
                <button id="yes-btn">Evet! üíï</button>
                <button id="no-btn">Hayƒ±r  Nope</button>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
        
        <!-- D√º≈ü√ºnme Ekranƒ± -->
        <div id="thinking-screen" class="hidden">
            <span class="spinner">üîÆ</span>
            <h1>Sihir yapƒ±lƒ±yor...</h1>
            <p>Yƒ±ldƒ±zlar fƒ±sƒ±ldƒ±yor... Doƒüum g√ºn√ºn√º bulmaya √ßalƒ±≈üƒ±yorum!</p>
        </div>

        <!-- Sonu√ß Ekranƒ± -->
        <div id="result-screen" class="hidden">
            <h1>ƒ∞≈üte Buldum <span id="player-name-result"></span>!</h1>
            <div class="result-card">
                <div class="result-item">
                    <span class="result-icon">üéÇ</span>
                    <div class="result-content">
                        <h3>Sihirli G√ºn√ºn</h3>
                        <p id="final-date"></p>
                    </div>
                </div>
                <div class="result-item">
                    <span class="result-icon" id="zodiac-icon"></span>
                    <div class="result-content">
                        <h3 id="zodiac-name"></h3>
                        <p id="zodiac-desc"></p>
                    </div>
                </div>
                <div class="result-item">
                    <span class="result-icon" id="stone-icon"></span>
                    <div class="result-content">
                        <h3 id="stone-name"></h3>
                        <p id="stone-desc"></p>
                    </div>
                </div>
            </div>
            <button id="restart-btn">Tekrar Oyna!</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const screens = {
                start: document.getElementById('start-screen'),
                game: document.getElementById('game-screen'),
                thinking: document.getElementById('thinking-screen'),
                result: document.getElementById('result-screen')
            };
            const nameInput = document.getElementById('name-input');
            const startBtn = document.getElementById('start-btn');
            const yesBtn = document.getElementById('yes-btn');
            const noBtn = document.getElementById('no-btn');
            const restartBtn = document.getElementById('restart-btn');
            const cardContainer = document.getElementById('card-container');
            const guideText = document.getElementById('guide-text');
            const progressBar = document.getElementById('progress-bar');
            
            let playerName = "";
            let currentStep = 'day'; // 'day' ya da 'month'
            let cardIndex = 0;
            let guessedDay = 0;
            let guessedMonth = 0;

            const dayCards = [
                [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31],
                [2, 3, 6, 7, 10, 11, 14, 15, 18, 19, 22, 23, 26, 27, 30, 31],
                [4, 5, 6, 7, 12, 13, 14, 15, 20, 21, 22, 23, 28, 29, 30, 31],
                [8, 9, 10, 11, 12, 13, 14, 15, 24, 25, 26, 27, 28, 29, 30, 31],
                [16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]
            ];
            const monthCards = [
                [1, 3, 5, 7, 9, 11],
                [2, 3, 6, 7, 10, 11],
                [4, 5, 6, 7, 12],
                [8, 9, 10, 11, 12]
            ];
            const months = ["Ocak", "≈ûubat", "Mart", "Nisan", "Mayƒ±s", "Haziran", "Temmuz", "Aƒüustos", "Eyl√ºl", "Ekim", "Kasƒ±m", "Aralƒ±k"];
            const totalQuestions = dayCards.length + monthCards.length;

            const zodiacData = [
                { sign: 'Oƒülak', icon: '‚ôë', start: '12-22', end: '01-20', desc: 'Sen bir yƒ±ldƒ±z gibi, kararlƒ± ve g√ºvenilirsin!' },
                { sign: 'Kova', icon: '‚ôí', start: '01-21', end: '02-19', desc: 'Hayal g√ºc√ºn bir g√∂ky√ºz√º kadar sƒ±nƒ±rsƒ±z!' },
                { sign: 'Balƒ±k', icon: '‚ôì', start: '02-20', end: '03-20', desc: 'Kalbin bir okyanus kadar derin ve sevgi dolu.' },
                { sign: 'Ko√ß', icon: '‚ôà', start: '03-21', end: '04-20', desc: 'Enerjin g√ºne≈ü gibi parlƒ±yor, √ßok cesursun!' },
                { sign: 'Boƒüa', icon: '‚ôâ', start: '04-21', end: '05-21', desc: 'Sakin ve g√º√ßl√ºs√ºn, tƒ±pkƒ± k√∂kleri saƒülam bir aƒüa√ß gibi.' },
                { sign: 'ƒ∞kizler', icon: '‚ôä', start: '05-22', end: '06-21', desc: 'Kelebekler gibi ne≈üeli ve meraklƒ±sƒ±n!' },
                { sign: 'Yenge√ß', icon: '‚ôã', start: '06-22', end: '07-22', desc: 'Sevdiklerini ay gibi nazik√ße aydƒ±nlatƒ±yorsun.' },
                { sign: 'Aslan', icon: '‚ôå', start: '07-23', end: '08-22', desc: 'Lider ruhun ve sƒ±caklƒ±ƒüƒ±nla bir aslan kadar asilsin.' },
                { sign: 'Ba≈üak', icon: '‚ôç', start: '08-23', end: '09-22', desc: 'Detaylara olan sevginle d√ºnyayƒ± daha g√ºzel bir yer yapƒ±yorsun.' },
                { sign: 'Terazi', icon: '‚ôé', start: '09-23', end: '10-22', desc: 'Adaletin ve zarafetinle etrafƒ±na denge getiriyorsun.' },
                { sign: 'Akrep', icon: '‚ôè', start: '10-23', end: '11-21', desc: 'Tutkulu ve gizemlisin, en parlak yƒ±ldƒ±zlar gibi.' },
                { sign: 'Yay', icon: '‚ôê', start: '11-22', end: '12-21', desc: 'Maceracƒ± ruhunla bir ok gibi hedeflerine ula≈üƒ±yorsun!' },
            ];
            
            const birthstoneData = [
                { month: 1, name: 'Grena (Lal Ta≈üƒ±)', icon: 'üíé', desc: 'Dostluƒüu, sadakati ve sevgiyi simgeler.' },
                { month: 2, name: 'Ametist', icon: 'üíú', desc: 'Huzur, bilgelik ve sakinlik ta≈üƒ±dƒ±r.' },
                { month: 3, name: 'Akuamarin', icon: 'üíß', desc: 'Cesaret ve denizin berraklƒ±ƒüƒ±nƒ± temsil eder.' },
                { month: 4, name: 'Elmas', icon: 'üíç', desc: 'Sonsuz sevginin ve g√ºc√ºn sembol√ºd√ºr.' },
                { month: 5, name: 'Z√ºmr√ºt', icon: 'üíö', desc: 'Umut, yeniden doƒüu≈ü ve bahar demektir.' },
                { month: 6, name: 'ƒ∞nci', icon: '‚ö™', desc: 'Saflƒ±ƒüƒ±, masumiyeti ve zarafeti anlatƒ±r.' },
                { month: 7, name: 'Yakut', icon: '‚ù§Ô∏è', desc: 'Tutkunun, a≈ükƒ±n ve cesaretin ta≈üƒ±dƒ±r.' },
                { month: 8, name: 'Peridot', icon: '‚ú®', desc: 'I≈üƒ±ltƒ±, ne≈üe ve pozitif enerji verir.' },
                { month: 9, name: 'Safir', icon: 'üíô', desc: 'Bilgeliƒüi, sadakati ve g√∂ky√ºz√ºn√º simgeler.' },
                { month: 10, name: 'Opal', icon: 'üåà', desc: 'Yaratƒ±cƒ±lƒ±ƒüƒ±n ve umudun rengarenk ta≈üƒ±dƒ±r.' },
                { month: 11, name: 'Sitrin', icon: 'üåü', desc: 'Bolluk, ne≈üe ve g√ºne≈üin sƒ±caklƒ±ƒüƒ±nƒ± ta≈üƒ±r.' },
                { month: 12, name: 'Turkuaz', icon: 'üí†', desc: '≈ûans, koruma ve dostluƒüun sembol√ºd√ºr.' },
            ];

            function switchScreen(screenId) {
                Object.values(screens).forEach(s => s.classList.add('hidden'));
                screens[screenId].classList.remove('hidden');
            }

            function updateProgressBar() {
                const questionsAnswered = currentStep === 'day' ? cardIndex : dayCards.length + cardIndex;
                const progressPercentage = (questionsAnswered / totalQuestions) * 100;
                progressBar.style.width = `${progressPercentage}%`;
            }

            function showCard(cards, index) {
                cardContainer.innerHTML = '';
                cards[index].forEach((num, i) => {
                    const span = document.createElement('span');
                    span.textContent = num;
                    span.style.animationDelay = `${i * 0.03}s`;
                    cardContainer.appendChild(span);
                });
                updateProgressBar();
            }

            function nextStep() {
                if (currentStep === 'day') {
                    if (cardIndex < dayCards.length) {
                        guideText.textContent = `Doƒüum g√ºn√ºn bu kartta mƒ±, ${playerName}?`;
                        showCard(dayCards, cardIndex);
                    } else {
                        currentStep = 'month';
                        cardIndex = 0;
                        guideText.textContent = `Peki... Doƒüduƒüun ay bu kartta mƒ±?`;
                        showCard(monthCards, cardIndex);
                    }
                } else if (currentStep === 'month') {
                    if (cardIndex < monthCards.length) {
                        guideText.textContent = `Doƒüduƒüun ay bu kartta mƒ±?`;
                        showCard(monthCards, cardIndex);
                    } else {
                        switchScreen('thinking');
                        setTimeout(calculateAndShowResult, 2500);
                    }
                }
            }

            function handleAnswer(isYes) {
                if(isYes) {
                    if(currentStep === 'day') guessedDay += dayCards[cardIndex][0];
                    else guessedMonth += monthCards[cardIndex][0];
                }
                cardIndex++;
                nextStep();
            }

            function getZodiac(day, month) {
                const date = month * 100 + day;
                for (const z of zodiacData) {
                    const start = parseInt(z.start.replace('-', ''));
                    const end = parseInt(z.end.replace('-', ''));
                    if ((date >= start && month == parseInt(z.start.split('-')[0])) || (date <= end && month == parseInt(z.end.split('-')[0]))) {
                        return z;
                    }
                }
                return zodiacData[0]; // Default
            }

            function calculateAndShowResult() {
                // Sonu√ßlarƒ± doldurma
                document.getElementById('player-name-result').textContent = playerName;
                const monthName = months[guessedMonth - 1] || "Bilinmeyen Ay";
                document.getElementById('final-date').textContent = `${guessedDay} ${monthName}`;
                
                const zodiac = getZodiac(guessedDay, guessedMonth);
                document.getElementById('zodiac-icon').textContent = zodiac.icon;
                document.getElementById('zodiac-name').textContent = `Burcun: ${zodiac.sign}`;
                document.getElementById('zodiac-desc').textContent = zodiac.desc;

                const birthstone = birthstoneData.find(b => b.month === guessedMonth) || birthstoneData[0];
                document.getElementById('stone-icon').textContent = birthstone.icon;
                document.getElementById('stone-name').textContent = `Doƒüum Ta≈üƒ±n: ${birthstone.name}`;
                document.getElementById('stone-desc').textContent = birthstone.desc;

                switchScreen('result');
                startConfetti();
            }
            
            function startConfetti() {
                const container = document.getElementById('confetti-container');
                container.innerHTML = '';
                const colors = ['#ff80ab', '#84ffff', '#ffd700', '#a2ff8a', '#ffb28a'];
                for(let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.animationDelay = Math.random() * 5 + 's';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.transform = `scale(${Math.random() * 0.8 + 0.5})`;
                    container.appendChild(confetti);
                }
            }
            
            function resetGame() {
                playerName = "";
                currentStep = 'day';
                cardIndex = 0;
                guessedDay = 0;
                guessedMonth = 0;
                nameInput.value = '';
                progressBar.style.width = '0%';
                document.getElementById('confetti-container').innerHTML = '';
                switchScreen('start');
            }

            startBtn.addEventListener('click', () => {
                playerName = nameInput.value.trim();
                if (playerName === "") {
                    playerName = "G√ºzel ƒ∞nsan";
                }
                switchScreen('game');
                nextStep();
            });
            
            yesBtn.addEventListener('click', () => handleAnswer(true));
            noBtn.addEventListener('click', () => handleAnswer(false));
            restartBtn.addEventListener('click', resetGame);
        });
    </script>
</body>
</html>
